(()=>{"use strict";new class{constructor(i,e){this.slide=document.querySelector(i),this.slideWrapper=document.querySelector(e),this.dist={start:0,movement:0,final:0}}addEvents(){this.slideWrapper.addEventListener("mousedown",this.onStart),this.slideWrapper.addEventListener("touchstart",this.onStart),this.slideWrapper.addEventListener("mouseup",this.onEnd),this.slideWrapper.addEventListener("touchend",this.onEnd),window.addEventListener("resize",this.onResize)}onStart(i){let e;"mousedown"===i.type?(i.preventDefault(),this.dist.start=i.clientX,e="mousemove"):(this.dist.start=Math.floor(i.changedTouches[0].clientX),e="touchmove"),this.slide.addEventListener(e,this.onMove),this.slideTransition(!1)}onMove(i){if("mousemove"===i.type){this.dist.movement=i.clientX;const e=this.updatePosition(this.dist.movement);this.moveSlide(e)}else{this.dist.movement=i.changedTouches[0].clientX;const e=this.updatePosition(this.dist.movement);this.moveSlide(e)}}updatePosition(i){return this.difference=1.6*(i-this.dist.start),this.difference+this.dist.final}moveSlide(i){this.moveX=i,this.slide.style.transform=`translate3d(${i}px, 0px, 0px)`}onEnd(){this.slide.removeEventListener("mousemove",this.onMove),this.dist.final=this.moveX,this.changeSlideOnEnd(),this.slideTransition(!0)}changeSlideOnEnd(){this.difference>120&&void 0!==this.index.prev?this.activePrevSlide():this.difference<-120&&void 0!==this.index.next?this.activeNextSlide():this.changeSlide(this.index.actual)}slidePosition(i){const e=(this.slideWrapper.offsetWidth-i.offsetWidth)/2;return-(i.offsetLeft-e)}slidesConfig(){this.slidesArray=[...this.slide.children].map((i=>({position:this.slidePosition(i),element:i})))}slidesIndexNav(i){const e=this.slidesArray.length-1;this.index={prev:i?i-1:void 0,actual:i,next:i===e?void 0:i+1},this.addClass()}changeSlide(i){const e=this.slidesArray[i].position;this.moveSlide(e),this.dist.final=e,this.slidesIndexNav(i)}activePrevSlide(){void 0!==this.index.prev&&this.changeSlide(this.index.prev)}activeNextSlide(){void 0!==this.index.next&&this.changeSlide(this.index.next)}slideTransition(i){this.slide.style.transition=i?"transform .3s":""}addClass(){this.slidesArray.forEach((i=>{i.element.classList.remove("active")})),this.slidesArray[this.index.actual].element.classList.add("active")}onResize(){setTimeout((()=>{this.slidesConfig(),this.changeSlide(this.index.actual)}),1e3)}bind(){this.onStart=this.onStart.bind(this),this.onMove=this.onMove.bind(this),this.onEnd=this.onEnd.bind(this),this.onResize=function(i,e){let t;return(...e)=>{t&&clearTimeout(t),t=setTimeout((()=>{i(...e),t=null}),200)}}(this.onResize.bind(this))}init(){return this.bind(),this.slidesConfig(),this.addEvents(),this.changeSlide(0),this}}(".slide",".slide-wrapper").init()})();