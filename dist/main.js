(()=>{"use strict";const i=new class extends class{constructor(i,t){this.slide=document.querySelector(i),this.slideWrapper=document.querySelector(t),this.dist={start:0,movement:0,final:0}}addEvents(){this.slideWrapper.addEventListener("mousedown",this.onStart),this.slideWrapper.addEventListener("touchstart",this.onStart),this.slideWrapper.addEventListener("mouseup",this.onEnd),this.slideWrapper.addEventListener("touchend",this.onEnd),window.addEventListener("resize",this.onResize)}onStart(i){let t;"mousedown"===i.type?(i.preventDefault(),this.dist.start=i.clientX,t="mousemove"):(this.dist.start=Math.floor(i.changedTouches[0].clientX),t="touchmove"),this.slide.addEventListener(t,this.onMove),this.slideTransition(!1)}onMove(i){if("mousemove"===i.type){this.dist.movement=i.clientX;const t=this.updatePosition(this.dist.movement);this.moveSlide(t)}else{this.dist.movement=i.changedTouches[0].clientX;const t=this.updatePosition(this.dist.movement);this.moveSlide(t)}}updatePosition(i){return this.difference=1.6*(i-this.dist.start),this.difference+this.dist.final}moveSlide(i){this.moveX=i,this.slide.style.transform=`translate3d(${i}px, 0px, 0px)`}onEnd(){this.slide.removeEventListener("mousemove",this.onMove),this.dist.final=this.moveX,this.changeSlideOnEnd(),this.slideTransition(!0)}changeSlideOnEnd(){this.difference>120&&void 0!==this.index.prev?this.activePrevSlide():this.difference<-120&&void 0!==this.index.next?this.activeNextSlide():this.changeSlide(this.index.actual)}slidePosition(i){const t=(this.slideWrapper.offsetWidth-i.offsetWidth)/2;return-(i.offsetLeft-t)}slidesConfig(){this.slidesArray=[...this.slide.children].map((i=>({position:this.slidePosition(i),element:i})))}slidesIndexNav(i){const t=this.slidesArray.length-1;this.index={prev:i?i-1:void 0,actual:i,next:i===t?void 0:i+1},this.addClass()}changeSlide(i){const t=this.slidesArray[i].position;this.moveSlide(t),this.dist.final=t,this.slidesIndexNav(i)}activePrevSlide(){void 0!==this.index.prev&&(this.changeSlide(this.index.prev),(null===this.pagLocation||this.havePagination)&&this.handleClasses(!0))}activeNextSlide(){void 0!==this.index.next&&(this.changeSlide(this.index.next),(null===this.pagLocation||this.havePagination)&&this.handleClasses(!0))}slideTransition(i){this.slide.style.transition=i?"transform .3s":""}addClass(){this.slidesArray.forEach((i=>{i.element.classList.remove("active")})),this.slidesArray[this.index.actual].element.classList.add("active")}onResize(){setTimeout((()=>{this.slidesConfig(),this.changeSlide(this.index.actual)}),1e3)}bind(){this.onStart=this.onStart.bind(this),this.onMove=this.onMove.bind(this),this.onEnd=this.onEnd.bind(this),this.activePrevSlide=this.activePrevSlide.bind(this),this.activeNextSlide=this.activeNextSlide.bind(this),this.onResize=function(i,t){let e;return(...t)=>{e&&clearTimeout(e),e=setTimeout((()=>{i(...t),e=null}),200)}}(this.onResize.bind(this))}init(){return this.bind(),this.slidesConfig(),this.addEvents(),this.changeSlide(0),this}}{constructor(i,t,e,s,n){super(i,t),this.prevBtn=document.querySelector(e),this.nextBtn=document.querySelector(s),this.pagLocation=document.querySelector(n),this.havePagination=!1}createPagination(i){const t=document.createElement("ul");t.setAttribute("data-control","slide"),t.classList.add("custom-controls"),this.slidesArray.forEach(((e,s)=>{const n=`<img src="../img/foto${s+1}-thumb.jpg">`;t.innerHTML+=`<li>${i?n:""}</li>`})),this.pagLocation.appendChild(t),this.pagination=t}handleClasses(i){this.arrayPagination.forEach((i=>{i.classList.remove("active")})),i&&this.arrayPagination[this.index.actual].classList.add("active")}addNavPagination(){this.createPagination(!0),this.arrayPagination=[...this.pagination.children],this.arrayPagination.forEach(((i,t)=>{i.addEventListener("click",(()=>{this.changeSlide(t),this.handleClasses(!1),i.classList.add("active")}))}))}addNav(){this.init(),this.prevBtn.addEventListener("click",this.activePrevSlide),this.nextBtn.addEventListener("click",this.activeNextSlide)}addPagination(){this.init(),this.addNavPagination(),this.arrayPagination[0].classList.add("active"),this.havePagination=!0}}(".slide",".slide-wrapper",".prev",".next",".pag-location");i.addNav(),i.addPagination()})();